<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>fastpages: Pitfalls, Tips &amp; Tricks | Snakes on Callisto</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="fastpages: Pitfalls, Tips &amp; Tricks" />
<meta name="author" content="J√ºrgen Hermann" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="What you need to know to be productive and have a good user experience." />
<meta property="og:description" content="What you need to know to be productive and have a good user experience." />
<link rel="canonical" href="https://jhermann.github.io/blog/how-to/fastpages/2020/02/20/fastpages-pitfalls.html" />
<meta property="og:url" content="https://jhermann.github.io/blog/how-to/fastpages/2020/02/20/fastpages-pitfalls.html" />
<meta property="og:site_name" content="Snakes on Callisto" />
<meta property="og:image" content="https://jhermann.github.io/blog/images/logo.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-02-20T00:00:00-06:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://jhermann.github.io/blog/how-to/fastpages/2020/02/20/fastpages-pitfalls.html"},"author":{"@type":"Person","name":"J√ºrgen Hermann"},"image":"https://jhermann.github.io/blog/images/logo.png","description":"What you need to know to be productive and have a good user experience.","@type":"BlogPosting","url":"https://jhermann.github.io/blog/how-to/fastpages/2020/02/20/fastpages-pitfalls.html","headline":"fastpages: Pitfalls, Tips &amp; Tricks","dateModified":"2020-02-20T00:00:00-06:00","datePublished":"2020-02-20T00:00:00-06:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
  <link rel="stylesheet" href="/blog/assets/main.css">
  <link rel="stylesheet" href="/blog/assets/custom.css">
  <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://jhermann.github.io/blog/feed.xml" title="Snakes on Callisto" />

  <script>
  function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
  }
  window.onload = wrap_img;
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", function(){
      // add link icon to anchor tags
      var elem = document.querySelectorAll(".anchor-link")
      elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
      // remove paragraph tags in rendered toc (happens from notebooks)
      var toctags = document.querySelectorAll(".toc-entry")
      toctags.forEach(e => (e.firstElementChild.innerText = e.firstElementChild.innerText.replace('¬∂', '')))
    });
  </script>
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">Snakes on Callisto</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/about/">üë§Ô∏è About Me</a><a class="page-link" href="/blog/search/">üîéÔ∏è Search</a><a class="page-link" href="/blog/categories/">üìÇÔ∏è Categories</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">fastpages: Pitfalls, Tips &amp; Tricks</h1><p class="page-description">What you need to know to be productive and have a good user experience.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-02-20T00:00:00-06:00" itemprop="datePublished">
        2020-02-20
      </time>‚Ä¢ 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">jhermann</span></span>
       ‚Ä¢ <span class="read-time" title="Estimated read time">
    
    
      3 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/blog/categories/#how-to">how-to</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog/categories/#fastpages">fastpages</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">
<a href="https://github.com/jhermann/blog/tree/master/_notebooks/2020-02-20-fastpages-pitfalls.ipynb" role="button">
    <img class="notebook-badge-image" src="https://img.shields.io/static/v1?label=&message=View%20On%20GitHub&color=586069&logo=github&labelColor=2f363d">
</a>
</div><div class="px-2">
    <a href="https://colab.research.google.com/github/jhermann/blog/blob/master/_notebooks/2020-02-20-fastpages-pitfalls.ipynb">
        <img class="notebook-badge-image" src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#Introduction">Introduction </a></li>
<li class="toc-entry toc-h2"><a href="#Things-to-Consider">Things to Consider </a></li>
<li class="toc-entry toc-h2"><a href="#How-Tos">How-Tos </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Updating-the-fastpages-Template">Updating the fastpages Template </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Troubleshooting">Troubleshooting </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Article-is-not-in-the-Index">Article is not in the Index </a></li>
<li class="toc-entry toc-h3"><a href="#Index-Entry-is-Missing-Most-Fields">Index Entry is Missing Most Fields </a></li>
</ul>
</li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-02-20-fastpages-pitfalls.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote>
<p>üÜï üìù <em>This article is <a href="https://github.com/jhermann/blog/commits/master/_notebooks/2020-02-20-fastpages-pitfalls.ipynb">updated regularly</a> with new information as it is discovered.</em></p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Introduction">
<a class="anchor" href="#Introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction<a class="anchor-link" href="#Introduction"> </a>
</h2>
<p><code>fastpages</code> will automatically convert <a href="https://jupyter.org/">Jupyter</a> Notebooks saved into the <code>_notebooks</code> directory as blog posts!</p>
<p>You must save your notebook with the naming convention <code>YYYY-MM-DD-*.ipynb</code>. Otherwise the file's modification time is used, but that is not something you should rely on.</p>
<p>See <a href="https://github.com/fastai/fastpages#writing-blog-posts-with-jupyter">Writing Blog Posts With Jupyter</a> for more details on special markup features.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Things-to-Consider">
<a class="anchor" href="#Things-to-Consider" aria-hidden="true"><span class="octicon octicon-link"></span></a>Things to Consider<a class="anchor-link" href="#Things-to-Consider"> </a>
</h2>
<ul>
<li>Isolate the title, subtitle, and metadata into their own cell (the first one).</li>
<li>
<strong>Always</strong> quote your title and sub-title. Also quote any categories that are not purely alpha-numerical-with-hyphens.</li>
<li>Add author information to your pages, so the Atom feed has it ‚Äì <a href="https://blog.sorryapp.com/blogging-with-jekyll/2014/02/06/adding-authors-to-your-jekyll-site.html">Adding authors to your Jekyll site</a>.</li>
<li>Categories are hierarchical and become part of the final URL ‚Äì so give them a reasonable order (from generic to specific), have a consistent scheme for the site as a whole, and do not change them after publishing, otherwise you'll break people's links.</li>
<li>For dual-use images (referenced in notebook contents <em>and</em> metadata), place the image in the <code>_notebooks</code> folder (or a sub-folder), use the relative path there in your notebook, and <em>prefix</em> that path for the <code>image:</code> attribute with <code>images/copied_from_nb/</code>.</li>
<li>Categories must be listed in a bracketed list ‚Äì you cannot make it multi-line.</li>
<li>Do not use today's date in filenames if you plan to publish soonish ‚Äì timezone differences to the build machines will possibly make your article disappear from the generated index. <em>(fixed in template)</em>
</li>
<li>This is a bit subjective, but I recommend to <a href="https://github.com/1and1/debianized-jupyterhub#what-is-this">get yourself a local installation of JupyterHub</a> and use that exclusively as your ‚Äúfastpages IDE‚Äù ‚Äì that means just ignore plain markdown files and do everything with notebooks.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-Tos">
<a class="anchor" href="#How-Tos" aria-hidden="true"><span class="octicon octicon-link"></span></a>How-Tos<a class="anchor-link" href="#How-Tos"> </a>
</h2>
<h3 id="Updating-the-fastpages-Template">
<a class="anchor" href="#Updating-the-fastpages-Template" aria-hidden="true"><span class="octicon octicon-link"></span></a>Updating the fastpages Template<a class="anchor-link" href="#Updating-the-fastpages-Template"> </a>
</h3>
<p>To get changes from upstream, check out your own copy of the template project.</p>
<p>To catch up for the first time, find the <code>Initial commit</code> in <em>your</em> blog repository, then make sure there are no commits after the time of that commit in the template. If there are, find the last commit before that date (the last one you already have), and use its SHA for a range <code>¬´sha¬ª..HEAD</code> in the update procedure that follows, starting with the <code>git diff</code>.</p>
<p>Now to catch up, when you <code>git pull --ff-only</code> in the template, there is a line starting with <code>Updating</code> and a SHA range. Call <code>git diff ¬´sha-range¬ª &gt;/tmp/fastpages.patch</code>.</p>
<p>Change to <em>your</em> blog repository workdir (make sure you have a clean workdir with no pending changes) and apply that patch: <code>patch -N -p1 &lt;/tmp/fastpages.patch</code>. Look out for patch rejects and resolve any conflicts. Finally commit the template changes, ideally mentioning the SHA range in the commit message for record-keeping (<a href="https://github.com/jhermann/blog/commit/051441e8020331ce29c9138633dc63ee275f2a84">example</a>).</p>
<p>Instead of using <code>patch</code>, you can also open a branch for upstream changes, <code>git pull --ff-only upstream/master</code> any updates into that branch, and then <code>git merge</code> that branch into <code>master</code>. This way, git does all the house-keeping and memorizing of SHAs.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Troubleshooting">
<a class="anchor" href="#Troubleshooting" aria-hidden="true"><span class="octicon octicon-link"></span></a>Troubleshooting<a class="anchor-link" href="#Troubleshooting"> </a>
</h2>
<h3 id="Article-is-not-in-the-Index">
<a class="anchor" href="#Article-is-not-in-the-Index" aria-hidden="true"><span class="octicon octicon-link"></span></a>Article is not in the Index<a class="anchor-link" href="#Article-is-not-in-the-Index"> </a>
</h3>
<p>See above hint regarding dates in the (near) future, and timezone differences between localhost and the cloud.</p>
<h3 id="Index-Entry-is-Missing-Most-Fields">
<a class="anchor" href="#Index-Entry-is-Missing-Most-Fields" aria-hidden="true"><span class="octicon octicon-link"></span></a>Index Entry is Missing Most Fields<a class="anchor-link" href="#Index-Entry-is-Missing-Most-Fields"> </a>
</h3>
<p>When an entry appears mostly empty, there is some metadata problem: missing quotes, improper YAML syntax, etc.</p>
<p>Backtrack your changes in the git history, and never change metadata in bulk, so you can isolate the problem. And wait for a successful build after each change.</p>

</div>
</div>
</div>
</div>


  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="jhermann/blog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/blog/how-to/fastpages/2020/02/20/fastpages-pitfalls.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Snakes on Callisto</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Snakes on Callisto</li><li><a class="u-email" href="mailto:jh@web.de">jh@web.de</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list">
  <li><a href="https://github.com/jhermann"><svg class="social svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jhermann</span></a></li><li><a href="https://www.twitter.com/jhermann_"><svg class="social svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jhermann_</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Python¬†¬∑ Jupyter(Hub)¬†¬∑ DevSecOps¬†¬∑ Software Architecture¬†¬∑ Systems Design¬†¬∑ Distributed Systems</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
